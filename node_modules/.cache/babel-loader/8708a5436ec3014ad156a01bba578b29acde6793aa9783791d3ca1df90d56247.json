{"ast":null,"code":"// API Endpoints utility with fallback support\nimport config from'../config/config';// Helper function to try multiple endpoint variations\nexport const tryEndpoints=async function(axios,baseEndpoint){let data=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let method=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'GET';const endpoints=[baseEndpoint,// Try without /api prefix first\n\"/api\".concat(baseEndpoint)// Then try with /api prefix\n];let lastError=null;for(const endpoint of endpoints){try{console.log(\"\\uD83D\\uDD04 Trying endpoint: \".concat(config.api.baseURL).concat(endpoint));let response;switch(method.toUpperCase()){case'POST':response=await axios.post(endpoint,data);break;case'PUT':response=await axios.put(endpoint,data);break;case'DELETE':response=await axios.delete(endpoint);break;case'GET':default:response=await axios.get(endpoint);break;}console.log(\"\\u2705 Success with endpoint: \".concat(config.api.baseURL).concat(endpoint));return response;}catch(error){var _error$response,_error$response2;console.log(\"\\u274C Failed with endpoint: \".concat(config.api.baseURL).concat(endpoint),(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status);lastError=error;// If it's not a 404, don't try the next endpoint\nif(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)!==404){throw error;}}}// If we get here, all endpoints failed\nconsole.error('🚫 All endpoint variations failed');throw lastError;};// Wrapper functions for common API calls\nexport const apiCall={get:(axios,endpoint)=>tryEndpoints(axios,endpoint,null,'GET'),post:(axios,endpoint,data)=>tryEndpoints(axios,endpoint,data,'POST'),put:(axios,endpoint,data)=>tryEndpoints(axios,endpoint,data,'PUT'),delete:(axios,endpoint)=>tryEndpoints(axios,endpoint,null,'DELETE')};const apiUtils={tryEndpoints,apiCall};export default apiUtils;","map":{"version":3,"names":["config","tryEndpoints","axios","baseEndpoint","data","arguments","length","undefined","method","endpoints","concat","lastError","endpoint","console","log","api","baseURL","response","toUpperCase","post","put","delete","get","error","_error$response","_error$response2","status","apiCall","apiUtils"],"sources":["C:/Users/Baap/Desktop/campus-event-management/campus-event-frontend/src/utils/apiEndpoints.js"],"sourcesContent":["// API Endpoints utility with fallback support\r\nimport config from '../config/config';\r\n\r\n// Helper function to try multiple endpoint variations\r\nexport const tryEndpoints = async (axios, baseEndpoint, data = null, method = 'GET') => {\r\n  const endpoints = [\r\n    baseEndpoint, // Try without /api prefix first\r\n    `/api${baseEndpoint}` // Then try with /api prefix\r\n  ];\r\n\r\n  let lastError = null;\r\n\r\n  for (const endpoint of endpoints) {\r\n    try {\r\n      console.log(`🔄 Trying endpoint: ${config.api.baseURL}${endpoint}`);\r\n      \r\n      let response;\r\n      switch (method.toUpperCase()) {\r\n        case 'POST':\r\n          response = await axios.post(endpoint, data);\r\n          break;\r\n        case 'PUT':\r\n          response = await axios.put(endpoint, data);\r\n          break;\r\n        case 'DELETE':\r\n          response = await axios.delete(endpoint);\r\n          break;\r\n        case 'GET':\r\n        default:\r\n          response = await axios.get(endpoint);\r\n          break;\r\n      }\r\n      \r\n      console.log(`✅ Success with endpoint: ${config.api.baseURL}${endpoint}`);\r\n      return response;\r\n      \r\n    } catch (error) {\r\n      console.log(`❌ Failed with endpoint: ${config.api.baseURL}${endpoint}`, error.response?.status);\r\n      lastError = error;\r\n      \r\n      // If it's not a 404, don't try the next endpoint\r\n      if (error.response?.status !== 404) {\r\n        throw error;\r\n      }\r\n    }\r\n  }\r\n\r\n  // If we get here, all endpoints failed\r\n  console.error('🚫 All endpoint variations failed');\r\n  throw lastError;\r\n};\r\n\r\n// Wrapper functions for common API calls\r\nexport const apiCall = {\r\n  get: (axios, endpoint) => tryEndpoints(axios, endpoint, null, 'GET'),\r\n  post: (axios, endpoint, data) => tryEndpoints(axios, endpoint, data, 'POST'),\r\n  put: (axios, endpoint, data) => tryEndpoints(axios, endpoint, data, 'PUT'),\r\n  delete: (axios, endpoint) => tryEndpoints(axios, endpoint, null, 'DELETE'),\r\n};\r\n\r\nconst apiUtils = { tryEndpoints, apiCall };\r\nexport default apiUtils;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}