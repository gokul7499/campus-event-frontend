{"ast":null,"code":"// API Endpoints utility with fallback support\nimport config from '../config/config';\n\n// Helper function to try multiple endpoint variations\nexport const tryEndpoints = async (axios, baseEndpoint, data = null, method = 'GET') => {\n  const endpoints = [baseEndpoint,\n  // Try without /api prefix first\n  `/api${baseEndpoint}` // Then try with /api prefix\n  ];\n  let lastError = null;\n  for (const endpoint of endpoints) {\n    try {\n      console.log(`🔄 Trying endpoint: ${config.api.baseURL}${endpoint}`);\n      let response;\n      switch (method.toUpperCase()) {\n        case 'POST':\n          response = await axios.post(endpoint, data);\n          break;\n        case 'PUT':\n          response = await axios.put(endpoint, data);\n          break;\n        case 'DELETE':\n          response = await axios.delete(endpoint);\n          break;\n        case 'GET':\n        default:\n          response = await axios.get(endpoint);\n          break;\n      }\n      console.log(`✅ Success with endpoint: ${config.api.baseURL}${endpoint}`);\n      return response;\n    } catch (error) {\n      var _error$response, _error$response2;\n      console.log(`❌ Failed with endpoint: ${config.api.baseURL}${endpoint}`, (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status);\n      lastError = error;\n\n      // If it's not a 404, don't try the next endpoint\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) !== 404) {\n        throw error;\n      }\n    }\n  }\n\n  // If we get here, all endpoints failed\n  console.error('🚫 All endpoint variations failed');\n  throw lastError;\n};\n\n// Wrapper functions for common API calls\nexport const apiCall = {\n  get: (axios, endpoint) => tryEndpoints(axios, endpoint, null, 'GET'),\n  post: (axios, endpoint, data) => tryEndpoints(axios, endpoint, data, 'POST'),\n  put: (axios, endpoint, data) => tryEndpoints(axios, endpoint, data, 'PUT'),\n  delete: (axios, endpoint) => tryEndpoints(axios, endpoint, null, 'DELETE')\n};\nconst apiUtils = {\n  tryEndpoints,\n  apiCall\n};\nexport default apiUtils;","map":{"version":3,"names":["config","tryEndpoints","axios","baseEndpoint","data","method","endpoints","lastError","endpoint","console","log","api","baseURL","response","toUpperCase","post","put","delete","get","error","_error$response","_error$response2","status","apiCall","apiUtils"],"sources":["C:/Users/Baap/Desktop/campus-event-management/campus-event-frontend/src/utils/apiEndpoints.js"],"sourcesContent":["// API Endpoints utility with fallback support\r\nimport config from '../config/config';\r\n\r\n// Helper function to try multiple endpoint variations\r\nexport const tryEndpoints = async (axios, baseEndpoint, data = null, method = 'GET') => {\r\n  const endpoints = [\r\n    baseEndpoint, // Try without /api prefix first\r\n    `/api${baseEndpoint}` // Then try with /api prefix\r\n  ];\r\n\r\n  let lastError = null;\r\n\r\n  for (const endpoint of endpoints) {\r\n    try {\r\n      console.log(`🔄 Trying endpoint: ${config.api.baseURL}${endpoint}`);\r\n      \r\n      let response;\r\n      switch (method.toUpperCase()) {\r\n        case 'POST':\r\n          response = await axios.post(endpoint, data);\r\n          break;\r\n        case 'PUT':\r\n          response = await axios.put(endpoint, data);\r\n          break;\r\n        case 'DELETE':\r\n          response = await axios.delete(endpoint);\r\n          break;\r\n        case 'GET':\r\n        default:\r\n          response = await axios.get(endpoint);\r\n          break;\r\n      }\r\n      \r\n      console.log(`✅ Success with endpoint: ${config.api.baseURL}${endpoint}`);\r\n      return response;\r\n      \r\n    } catch (error) {\r\n      console.log(`❌ Failed with endpoint: ${config.api.baseURL}${endpoint}`, error.response?.status);\r\n      lastError = error;\r\n      \r\n      // If it's not a 404, don't try the next endpoint\r\n      if (error.response?.status !== 404) {\r\n        throw error;\r\n      }\r\n    }\r\n  }\r\n\r\n  // If we get here, all endpoints failed\r\n  console.error('🚫 All endpoint variations failed');\r\n  throw lastError;\r\n};\r\n\r\n// Wrapper functions for common API calls\r\nexport const apiCall = {\r\n  get: (axios, endpoint) => tryEndpoints(axios, endpoint, null, 'GET'),\r\n  post: (axios, endpoint, data) => tryEndpoints(axios, endpoint, data, 'POST'),\r\n  put: (axios, endpoint, data) => tryEndpoints(axios, endpoint, data, 'PUT'),\r\n  delete: (axios, endpoint) => tryEndpoints(axios, endpoint, null, 'DELETE'),\r\n};\r\n\r\nconst apiUtils = { tryEndpoints, apiCall };\r\nexport default apiUtils;\r\n"],"mappings":"AAAA;AACA,OAAOA,MAAM,MAAM,kBAAkB;;AAErC;AACA,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAOC,KAAK,EAAEC,YAAY,EAAEC,IAAI,GAAG,IAAI,EAAEC,MAAM,GAAG,KAAK,KAAK;EACtF,MAAMC,SAAS,GAAG,CAChBH,YAAY;EAAE;EACd,OAAOA,YAAY,EAAE,CAAC;EAAA,CACvB;EAED,IAAII,SAAS,GAAG,IAAI;EAEpB,KAAK,MAAMC,QAAQ,IAAIF,SAAS,EAAE;IAChC,IAAI;MACFG,OAAO,CAACC,GAAG,CAAC,uBAAuBV,MAAM,CAACW,GAAG,CAACC,OAAO,GAAGJ,QAAQ,EAAE,CAAC;MAEnE,IAAIK,QAAQ;MACZ,QAAQR,MAAM,CAACS,WAAW,CAAC,CAAC;QAC1B,KAAK,MAAM;UACTD,QAAQ,GAAG,MAAMX,KAAK,CAACa,IAAI,CAACP,QAAQ,EAAEJ,IAAI,CAAC;UAC3C;QACF,KAAK,KAAK;UACRS,QAAQ,GAAG,MAAMX,KAAK,CAACc,GAAG,CAACR,QAAQ,EAAEJ,IAAI,CAAC;UAC1C;QACF,KAAK,QAAQ;UACXS,QAAQ,GAAG,MAAMX,KAAK,CAACe,MAAM,CAACT,QAAQ,CAAC;UACvC;QACF,KAAK,KAAK;QACV;UACEK,QAAQ,GAAG,MAAMX,KAAK,CAACgB,GAAG,CAACV,QAAQ,CAAC;UACpC;MACJ;MAEAC,OAAO,CAACC,GAAG,CAAC,4BAA4BV,MAAM,CAACW,GAAG,CAACC,OAAO,GAAGJ,QAAQ,EAAE,CAAC;MACxE,OAAOK,QAAQ;IAEjB,CAAC,CAAC,OAAOM,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,gBAAA;MACdZ,OAAO,CAACC,GAAG,CAAC,2BAA2BV,MAAM,CAACW,GAAG,CAACC,OAAO,GAAGJ,QAAQ,EAAE,GAAAY,eAAA,GAAED,KAAK,CAACN,QAAQ,cAAAO,eAAA,uBAAdA,eAAA,CAAgBE,MAAM,CAAC;MAC/Ff,SAAS,GAAGY,KAAK;;MAEjB;MACA,IAAI,EAAAE,gBAAA,GAAAF,KAAK,CAACN,QAAQ,cAAAQ,gBAAA,uBAAdA,gBAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;QAClC,MAAMH,KAAK;MACb;IACF;EACF;;EAEA;EACAV,OAAO,CAACU,KAAK,CAAC,mCAAmC,CAAC;EAClD,MAAMZ,SAAS;AACjB,CAAC;;AAED;AACA,OAAO,MAAMgB,OAAO,GAAG;EACrBL,GAAG,EAAEA,CAAChB,KAAK,EAAEM,QAAQ,KAAKP,YAAY,CAACC,KAAK,EAAEM,QAAQ,EAAE,IAAI,EAAE,KAAK,CAAC;EACpEO,IAAI,EAAEA,CAACb,KAAK,EAAEM,QAAQ,EAAEJ,IAAI,KAAKH,YAAY,CAACC,KAAK,EAAEM,QAAQ,EAAEJ,IAAI,EAAE,MAAM,CAAC;EAC5EY,GAAG,EAAEA,CAACd,KAAK,EAAEM,QAAQ,EAAEJ,IAAI,KAAKH,YAAY,CAACC,KAAK,EAAEM,QAAQ,EAAEJ,IAAI,EAAE,KAAK,CAAC;EAC1Ea,MAAM,EAAEA,CAACf,KAAK,EAAEM,QAAQ,KAAKP,YAAY,CAACC,KAAK,EAAEM,QAAQ,EAAE,IAAI,EAAE,QAAQ;AAC3E,CAAC;AAED,MAAMgB,QAAQ,GAAG;EAAEvB,YAAY;EAAEsB;AAAQ,CAAC;AAC1C,eAAeC,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}