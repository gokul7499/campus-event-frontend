{"ast":null,"code":"import _objectSpread from\"C:/Users/Baap/Desktop/campus-event-management/campus-event-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{Container,Row,Col,Card,Badge,Button,Alert,Modal,Form,Spinner}from'react-bootstrap';import{useParams,useNavigate,Link}from'react-router-dom';import axios from'../../utils/axios';import{useAuth}from'../../context/AuthContext';import{useNotification}from'../../context/NotificationContext';import LoadingSpinner from'../../components/common/LoadingSpinner';import{formatAddress}from'../../utils/addressUtils';import'../../styles/EventDetailsPage.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EventDetailsPage=()=>{const{id}=useParams();const navigate=useNavigate();const{user}=useAuth();const{showToast}=useNotification();const[event,setEvent]=useState(null);const[loading,setLoading]=useState(true);const[registering,setRegistering]=useState(false);const[showRegistrationModal,setShowRegistrationModal]=useState(false);const[registrationData,setRegistrationData]=useState({additionalInfo:'',emergencyContact:{name:'',phone:'',relationship:''},dietaryRestrictions:[],specialRequirements:''});const[userRegistration,setUserRegistration]=useState(null);const[error,setError]=useState('');const fetchEventDetails=useCallback(async()=>{try{setLoading(true);setError('');const response=await axios.get(\"/api/events/\".concat(id));setEvent(response.data.data);}catch(error){var _error$response;console.error('Error fetching event details:',error);setError('Failed to load event details. Please try again.');// If event not found, show mock data for demo\nif(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===404){setEvent({_id:id,title:'Sample Event',description:'This is a sample event for demonstration purposes. The actual event data could not be loaded.',startDate:new Date(Date.now()+7*24*60*60*1000),endDate:new Date(Date.now()+7*24*60*60*1000+4*60*60*1000),venue:{name:'Sample Venue',address:'123 Sample Street, Sample City',capacity:100},category:{name:'Sample Category',color:'#007bff'},organizer:{firstName:'Sample',lastName:'Organizer',email:'organizer@example.com'},maxAttendees:100,registrationDeadline:new Date(Date.now()+5*24*60*60*1000),status:'published',isPublic:true,tags:['sample','demo'],requirements:['Sample requirement'],agenda:[{time:'10:00',title:'Opening Session',description:'Welcome and introduction'},{time:'11:00',title:'Main Presentation',description:'Core content presentation'}],registrationCount:25,waitlistCount:0});}}finally{setLoading(false);}},[id]);const checkUserRegistration=useCallback(async()=>{if(!user||!id)return;try{const response=await axios.get(\"/api/registrations/check/\".concat(id));setUserRegistration(response.data.data);}catch(error){console.error('Error checking user registration:',error);setUserRegistration(null);}},[user,id]);useEffect(()=>{if(id){fetchEventDetails();if(user){checkUserRegistration();}}},[id,user,fetchEventDetails,checkUserRegistration]);const handleRegistration=async()=>{if(!user){showToast('Please login to register for events','warning');navigate('/login');return;}try{setRegistering(true);const response=await axios.post('/api/registrations',_objectSpread({eventId:id},registrationData));if(response.data.success){showToast('Registration successful!','success');setShowRegistrationModal(false);setUserRegistration(response.data.data.registration);// Refresh event details to update registration count\nfetchEventDetails();}}catch(error){var _error$response2,_error$response2$data;console.error('Registration error:',error);const errorMessage=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Registration failed. Please try again.';showToast(errorMessage,'error');}finally{setRegistering(false);}};const handleUnregister=async()=>{if(!userRegistration)return;if(!window.confirm('Are you sure you want to unregister from this event?')){return;}try{setRegistering(true);await axios.delete(\"/api/registrations/\".concat(userRegistration._id));showToast('Successfully unregistered from event','success');setUserRegistration(null);// Refresh event details\nfetchEventDetails();}catch(error){console.error('Unregistration error:',error);showToast('Failed to unregister. Please try again.','error');}finally{setRegistering(false);}};const getStatusBadge=status=>{const statusMap={published:{bg:'success',text:'Published'},draft:{bg:'secondary',text:'Draft'},cancelled:{bg:'danger',text:'Cancelled'},completed:{bg:'info',text:'Completed'}};const config=statusMap[status]||{bg:'secondary',text:status};return/*#__PURE__*/_jsx(Badge,{bg:config.bg,children:config.text});};const getRegistrationStatusBadge=status=>{const statusMap={confirmed:{bg:'success',text:'Confirmed'},pending:{bg:'warning',text:'Pending Approval'},waitlisted:{bg:'info',text:'Waitlisted'},cancelled:{bg:'danger',text:'Cancelled'}};const config=statusMap[status]||{bg:'secondary',text:status};return/*#__PURE__*/_jsx(Badge,{bg:config.bg,children:config.text});};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};const formatTime=dateString=>{return new Date(dateString).toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit'});};const canRegister=()=>{if(!event||!user)return false;if(userRegistration)return false;if(event.status!=='published')return false;if(new Date(event.registrationDeadline)<new Date())return false;return true;};const isEventFull=()=>{return event&&event.registrationCount>=event.maxAttendees;};if(loading){return/*#__PURE__*/_jsx(LoadingSpinner,{fullScreen:true,text:\"Loading event details...\"});}if(error&&!event){return/*#__PURE__*/_jsx(Container,{className:\"py-4\",children:/*#__PURE__*/_jsxs(Alert,{variant:\"danger\",children:[/*#__PURE__*/_jsx(Alert.Heading,{children:\"Error Loading Event\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:fetchEventDetails,children:\"Try Again\"})]})});}if(!event){return/*#__PURE__*/_jsx(Container,{className:\"py-4\",children:/*#__PURE__*/_jsxs(Alert,{variant:\"warning\",children:[/*#__PURE__*/_jsx(Alert.Heading,{children:\"Event Not Found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"The event you're looking for could not be found.\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",as:Link,to:\"/events\",children:\"Browse Events\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100\",style:{backgroundColor:'#f8f9fa'},children:/*#__PURE__*/_jsxs(Container,{className:\"py-4\",children:[/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Button,{variant:\"link\",className:\"p-0 text-decoration-none text-muted\",onClick:()=>navigate(-1),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-left me-2\"}),\"Back to Events\"]})})}),/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{className:\"border-0 shadow-sm overflow-hidden\",children:[event.imageUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"position-relative\",style:{height:'300px',background:\"linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url(\".concat(event.imageUrl,\")\"),backgroundSize:'cover',backgroundPosition:'center'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"position-absolute bottom-0 start-0 p-4 text-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 mb-3\",children:[getStatusBadge(event.status),event.category&&/*#__PURE__*/_jsx(Badge,{style:{backgroundColor:event.category.color,border:'none'},children:event.category.name}),event.isFeatured&&/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Featured\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold mb-2\",children:event.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center text-white-50\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar-event me-2\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(event.startDate)}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-3\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-geo-alt me-2\"}),/*#__PURE__*/_jsx(\"span\",{children:event.venue.name})]})]})}),!event.imageUrl&&/*#__PURE__*/_jsxs(Card.Body,{className:\"py-5 text-center\",style:{backgroundColor:'#e9ecef'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 justify-content-center mb-3\",children:[getStatusBadge(event.status),event.category&&/*#__PURE__*/_jsx(Badge,{style:{backgroundColor:event.category.color,border:'none'},children:event.category.name}),event.isFeatured&&/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Featured\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold mb-3 text-dark\",children:event.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-center text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar-event me-2\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(event.startDate)}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-3\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-geo-alt me-2\"}),/*#__PURE__*/_jsx(\"span\",{children:event.venue.name})]})]})]})})}),userRegistration&&/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Alert,{variant:\"success\",className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle me-2\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"You're registered for this event!\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ms-2\",children:getRegistrationStatusBadge(userRegistration.status)})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:handleUnregister,disabled:registering,children:registering?/*#__PURE__*/_jsx(Spinner,{size:\"sm\"}):'Unregister'})]})})}),!userRegistration&&/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-2\",children:\"Ready to join this event?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:isEventFull()?'This event is currently full, but you can join the waitlist.':\"\".concat(event.maxAttendees-(event.registrationCount||0),\" spots remaining\")})]}),canRegister()?/*#__PURE__*/_jsxs(Button,{variant:\"primary\",size:\"lg\",className:\"px-5\",onClick:()=>setShowRegistrationModal(true),disabled:isEventFull(),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-plus me-2\"}),isEventFull()?'Join Waitlist':'Register Now']}):!user?/*#__PURE__*/_jsxs(Button,{variant:\"primary\",size:\"lg\",className:\"px-5\",as:Link,to:\"/login\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-box-arrow-in-right me-2\"}),\"Login to Register\"]}):/*#__PURE__*/_jsxs(Button,{variant:\"secondary\",size:\"lg\",disabled:true,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-circle me-2\"}),\"Registration Closed\"]})]})})})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{lg:8,children:[/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary rounded-circle p-2 me-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle text-white\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-0 fw-bold\",children:\"About This Event\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted lh-lg mb-0\",style:{fontSize:'1.1rem'},children:event.description})]})}),/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm h-100\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-success rounded-circle p-2 me-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar-event text-white\"})}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 fw-bold\",children:\"Date & Time\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar3 me-2 text-muted\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-medium\",children:formatDate(event.startDate)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clock me-2 text-muted\"}),/*#__PURE__*/_jsxs(\"span\",{children:[formatTime(event.startDate),\" - \",formatTime(event.endDate)]})]})]})})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm h-100\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-info rounded-circle p-2 me-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-geo-alt text-white\"})}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 fw-bold\",children:\"Location\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-building me-2 text-muted\"}),/*#__PURE__*/_jsx(\"span\",{className:\"fw-medium\",children:event.venue.name})]}),event.venue.address&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-map me-2 text-muted\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:formatAddress(event.venue.address)})]})]})})})]}),event.agenda&&event.agenda.length>0&&/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-warning rounded-circle p-2 me-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-list-ul text-white\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-0 fw-bold\",children:\"Event Agenda\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"timeline\",children:event.agenda.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-item d-flex mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timeline-marker me-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary text-white rounded-pill px-3 py-2 fw-bold\",children:item.time})}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-content flex-grow-1\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"fw-bold mb-2\",children:item.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:item.description})]})]},index))})]})}),event.requirements&&event.requirements.length>0&&/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-danger rounded-circle p-2 me-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle text-white\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-0 fw-bold\",children:\"Requirements\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"requirements-list\",children:event.requirements.map((req,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-start mb-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle-fill text-success me-2 mt-1\"}),/*#__PURE__*/_jsx(\"span\",{children:req})]},index))})]})})]}),/*#__PURE__*/_jsxs(Col,{lg:4,children:[/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"fw-bold mb-4\",children:\"Event Stats\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-medium\",children:\"Registration\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[event.registrationCount||0,\" / \",event.maxAttendees]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",style:{height:'8px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar bg-primary\",style:{width:\"\".concat(Math.min((event.registrationCount||0)/event.maxAttendees*100,100),\"%\")}})}),event.waitlistCount>0&&/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[event.waitlistCount,\" on waitlist\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-light rounded\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clock-history text-warning me-2\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-medium\",children:\"Registration Deadline\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:formatDate(event.registrationDeadline)})]})]})}),event.organizer&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center p-3 bg-light rounded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-primary rounded-circle p-2 me-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-medium\",children:\"Organized by\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted\",children:[event.organizer.firstName,\" \",event.organizer.lastName]})]})]})]})}),event.tags&&event.tags.length>0&&/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"fw-bold mb-3\",children:\"Tags\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap gap-2\",children:event.tags.map((tag,index)=>/*#__PURE__*/_jsxs(Badge,{bg:\"light\",text:\"dark\",className:\"px-3 py-2 rounded-pill\",style:{fontSize:'0.85rem'},children:[\"#\",tag]},index))})]})}),/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"fw-bold mb-3\",children:\"Share This Event\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-3\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline-primary\",className:\"d-flex align-items-center justify-content-center py-2\",onClick:()=>{navigator.clipboard.writeText(window.location.href);showToast('Link copied to clipboard!','success');},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-link-45deg me-2\"}),\"Copy Event Link\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline-info\",className:\"d-flex align-items-center justify-content-center py-2\",onClick:()=>window.open(\"https://twitter.com/intent/tweet?text=\".concat(encodeURIComponent(\"Check out this event: \".concat(event.title)),\"&url=\").concat(encodeURIComponent(window.location.href))),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-twitter me-2\"}),\"Share on Twitter\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline-success\",className:\"d-flex align-items-center justify-content-center py-2\",onClick:()=>window.open(\"https://wa.me/?text=\".concat(encodeURIComponent(\"Check out this event: \".concat(event.title,\" \").concat(window.location.href)))),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-whatsapp me-2\"}),\"Share on WhatsApp\"]})]})]})})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showRegistrationModal,onHide:()=>setShowRegistrationModal(false),size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Register for \",event.title]})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Additional Information (Optional)\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,value:registrationData.additionalInfo,onChange:e=>setRegistrationData(prev=>_objectSpread(_objectSpread({},prev),{},{additionalInfo:e.target.value})),placeholder:\"Any additional information you'd like to share...\"})]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Emergency Contact\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:registrationData.emergencyContact.name,onChange:e=>setRegistrationData(prev=>_objectSpread(_objectSpread({},prev),{},{emergencyContact:_objectSpread(_objectSpread({},prev.emergencyContact),{},{name:e.target.value})})),placeholder:\"Emergency contact name\"})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phone\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"tel\",value:registrationData.emergencyContact.phone,onChange:e=>setRegistrationData(prev=>_objectSpread(_objectSpread({},prev),{},{emergencyContact:_objectSpread(_objectSpread({},prev.emergencyContact),{},{phone:e.target.value})})),placeholder:\"Emergency contact phone\"})]})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Relationship\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:registrationData.emergencyContact.relationship,onChange:e=>setRegistrationData(prev=>_objectSpread(_objectSpread({},prev),{},{emergencyContact:_objectSpread(_objectSpread({},prev.emergencyContact),{},{relationship:e.target.value})})),placeholder:\"Relationship to emergency contact\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Special Requirements (Optional)\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:2,value:registrationData.specialRequirements,onChange:e=>setRegistrationData(prev=>_objectSpread(_objectSpread({},prev),{},{specialRequirements:e.target.value})),placeholder:\"Any special requirements or accommodations needed...\"})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowRegistrationModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleRegistration,disabled:registering,children:registering?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{size:\"sm\",className:\"me-2\"}),\"Registering...\"]}):'Complete Registration'})]})]})]})});};export default EventDetailsPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Container","Row","Col","Card","Badge","Button","Alert","Modal","Form","Spinner","useParams","useNavigate","Link","axios","useAuth","useNotification","LoadingSpinner","formatAddress","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EventDetailsPage","id","navigate","user","showToast","event","setEvent","loading","setLoading","registering","setRegistering","showRegistrationModal","setShowRegistrationModal","registrationData","setRegistrationData","additionalInfo","emergencyContact","name","phone","relationship","dietaryRestrictions","specialRequirements","userRegistration","setUserRegistration","error","setError","fetchEventDetails","response","get","concat","data","_error$response","console","status","_id","title","description","startDate","Date","now","endDate","venue","address","capacity","category","color","organizer","firstName","lastName","email","maxAttendees","registrationDeadline","isPublic","tags","requirements","agenda","time","registrationCount","waitlistCount","checkUserRegistration","handleRegistration","post","_objectSpread","eventId","success","registration","_error$response2","_error$response2$data","errorMessage","message","handleUnregister","window","confirm","delete","getStatusBadge","statusMap","published","bg","text","draft","cancelled","completed","config","children","getRegistrationStatusBadge","confirmed","pending","waitlisted","formatDate","dateString","toLocaleDateString","weekday","year","month","day","hour","minute","formatTime","toLocaleTimeString","canRegister","isEventFull","fullScreen","className","variant","Heading","onClick","as","to","style","backgroundColor","imageUrl","height","background","backgroundSize","backgroundPosition","border","isFeatured","Body","size","disabled","lg","fontSize","md","length","map","item","index","req","width","Math","min","tag","navigator","clipboard","writeText","location","href","open","encodeURIComponent","show","onHide","Header","closeButton","Title","Group","Label","Control","rows","value","onChange","e","prev","target","placeholder","type","Footer"],"sources":["C:/Users/Baap/Desktop/campus-event-management/campus-event-frontend/src/pages/events/EventDetailsPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  Container, Row, Col, Card, Badge, Button, Alert,\r\n  Modal, Form, Spinner\r\n} from 'react-bootstrap';\r\nimport { useParams, useNavigate, Link } from 'react-router-dom';\r\nimport axios from '../../utils/axios';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useNotification } from '../../context/NotificationContext';\r\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\r\nimport { formatAddress } from '../../utils/addressUtils';\r\nimport '../../styles/EventDetailsPage.css';\r\n\r\nconst EventDetailsPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { showToast } = useNotification();\r\n\r\n  const [event, setEvent] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [registering, setRegistering] = useState(false);\r\n  const [showRegistrationModal, setShowRegistrationModal] = useState(false);\r\n  const [registrationData, setRegistrationData] = useState({\r\n    additionalInfo: '',\r\n    emergencyContact: {\r\n      name: '',\r\n      phone: '',\r\n      relationship: ''\r\n    },\r\n    dietaryRestrictions: [],\r\n    specialRequirements: ''\r\n  });\r\n  const [userRegistration, setUserRegistration] = useState(null);\r\n  const [error, setError] = useState('');\r\n\r\n  const fetchEventDetails = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n\r\n      const response = await axios.get(`/api/events/${id}`);\r\n      setEvent(response.data.data);\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching event details:', error);\r\n      setError('Failed to load event details. Please try again.');\r\n\r\n      // If event not found, show mock data for demo\r\n      if (error.response?.status === 404) {\r\n        setEvent({\r\n          _id: id,\r\n          title: 'Sample Event',\r\n          description: 'This is a sample event for demonstration purposes. The actual event data could not be loaded.',\r\n          startDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000),\r\n          endDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000 + 4 * 60 * 60 * 1000),\r\n          venue: {\r\n            name: 'Sample Venue',\r\n            address: '123 Sample Street, Sample City',\r\n            capacity: 100\r\n          },\r\n          category: {\r\n            name: 'Sample Category',\r\n            color: '#007bff'\r\n          },\r\n          organizer: {\r\n            firstName: 'Sample',\r\n            lastName: 'Organizer',\r\n            email: 'organizer@example.com'\r\n          },\r\n          maxAttendees: 100,\r\n          registrationDeadline: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000),\r\n          status: 'published',\r\n          isPublic: true,\r\n          tags: ['sample', 'demo'],\r\n          requirements: ['Sample requirement'],\r\n          agenda: [\r\n            {\r\n              time: '10:00',\r\n              title: 'Opening Session',\r\n              description: 'Welcome and introduction'\r\n            },\r\n            {\r\n              time: '11:00',\r\n              title: 'Main Presentation',\r\n              description: 'Core content presentation'\r\n            }\r\n          ],\r\n          registrationCount: 25,\r\n          waitlistCount: 0\r\n        });\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id]);\r\n\r\n  const checkUserRegistration = useCallback(async () => {\r\n    if (!user || !id) return;\r\n    \r\n    try {\r\n      const response = await axios.get(`/api/registrations/check/${id}`);\r\n      setUserRegistration(response.data.data);\r\n    } catch (error) {\r\n      console.error('Error checking user registration:', error);\r\n      setUserRegistration(null);\r\n    }\r\n  }, [user, id]);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      fetchEventDetails();\r\n      if (user) {\r\n        checkUserRegistration();\r\n      }\r\n    }\r\n  }, [id, user, fetchEventDetails, checkUserRegistration]);\r\n\r\n  const handleRegistration = async () => {\r\n    if (!user) {\r\n      showToast('Please login to register for events', 'warning');\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setRegistering(true);\r\n\r\n      const response = await axios.post('/api/registrations', {\r\n        eventId: id,\r\n        ...registrationData\r\n      });\r\n\r\n      if (response.data.success) {\r\n        showToast('Registration successful!', 'success');\r\n        setShowRegistrationModal(false);\r\n        setUserRegistration(response.data.data.registration);\r\n\r\n        // Refresh event details to update registration count\r\n        fetchEventDetails();\r\n      }\r\n    } catch (error) {\r\n      console.error('Registration error:', error);\r\n      const errorMessage = error.response?.data?.message || 'Registration failed. Please try again.';\r\n      showToast(errorMessage, 'error');\r\n    } finally {\r\n      setRegistering(false);\r\n    }\r\n  };\r\n\r\n  const handleUnregister = async () => {\r\n    if (!userRegistration) return;\r\n\r\n    if (!window.confirm('Are you sure you want to unregister from this event?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setRegistering(true);\r\n\r\n      await axios.delete(`/api/registrations/${userRegistration._id}`);\r\n\r\n      showToast('Successfully unregistered from event', 'success');\r\n      setUserRegistration(null);\r\n\r\n      // Refresh event details\r\n      fetchEventDetails();\r\n    } catch (error) {\r\n      console.error('Unregistration error:', error);\r\n      showToast('Failed to unregister. Please try again.', 'error');\r\n    } finally {\r\n      setRegistering(false);\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusMap = {\r\n      published: { bg: 'success', text: 'Published' },\r\n      draft: { bg: 'secondary', text: 'Draft' },\r\n      cancelled: { bg: 'danger', text: 'Cancelled' },\r\n      completed: { bg: 'info', text: 'Completed' }\r\n    };\r\n\r\n    const config = statusMap[status] || { bg: 'secondary', text: status };\r\n    return <Badge bg={config.bg}>{config.text}</Badge>;\r\n  };\r\n\r\n  const getRegistrationStatusBadge = (status) => {\r\n    const statusMap = {\r\n      confirmed: { bg: 'success', text: 'Confirmed' },\r\n      pending: { bg: 'warning', text: 'Pending Approval' },\r\n      waitlisted: { bg: 'info', text: 'Waitlisted' },\r\n      cancelled: { bg: 'danger', text: 'Cancelled' }\r\n    };\r\n\r\n    const config = statusMap[status] || { bg: 'secondary', text: status };\r\n    return <Badge bg={config.bg}>{config.text}</Badge>;\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      weekday: 'long',\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const formatTime = (dateString) => {\r\n    return new Date(dateString).toLocaleTimeString('en-US', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const canRegister = () => {\r\n    if (!event || !user) return false;\r\n    if (userRegistration) return false;\r\n    if (event.status !== 'published') return false;\r\n    if (new Date(event.registrationDeadline) < new Date()) return false;\r\n    return true;\r\n  };\r\n\r\n  const isEventFull = () => {\r\n    return event && event.registrationCount >= event.maxAttendees;\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner fullScreen text=\"Loading event details...\" />;\r\n  }\r\n\r\n  if (error && !event) {\r\n    return (\r\n      <Container className=\"py-4\">\r\n        <Alert variant=\"danger\">\r\n          <Alert.Heading>Error Loading Event</Alert.Heading>\r\n          <p>{error}</p>\r\n          <Button variant=\"outline-danger\" onClick={fetchEventDetails}>\r\n            Try Again\r\n          </Button>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (!event) {\r\n    return (\r\n      <Container className=\"py-4\">\r\n        <Alert variant=\"warning\">\r\n          <Alert.Heading>Event Not Found</Alert.Heading>\r\n          <p>The event you're looking for could not be found.</p>\r\n          <Button variant=\"outline-primary\" as={Link} to=\"/events\">\r\n            Browse Events\r\n          </Button>\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-vh-100\" style={{ backgroundColor: '#f8f9fa' }}>\r\n      <Container className=\"py-4\">\r\n        {/* Navigation */}\r\n        <Row className=\"mb-3\">\r\n          <Col>\r\n            <Button\r\n              variant=\"link\"\r\n              className=\"p-0 text-decoration-none text-muted\"\r\n              onClick={() => navigate(-1)}\r\n            >\r\n              <i className=\"bi bi-arrow-left me-2\"></i>\r\n              Back to Events\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* Hero Section */}\r\n        <Row className=\"mb-4\">\r\n          <Col>\r\n            <Card className=\"border-0 shadow-sm overflow-hidden\">\r\n              {event.imageUrl && (\r\n                <div\r\n                  className=\"position-relative\"\r\n                  style={{\r\n                    height: '300px',\r\n                    background: `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url(${event.imageUrl})`,\r\n                    backgroundSize: 'cover',\r\n                    backgroundPosition: 'center'\r\n                  }}\r\n                >\r\n                  <div className=\"position-absolute bottom-0 start-0 p-4 text-white\">\r\n                    <div className=\"d-flex gap-2 mb-3\">\r\n                      {getStatusBadge(event.status)}\r\n                      {event.category && (\r\n                        <Badge\r\n                          style={{\r\n                            backgroundColor: event.category.color,\r\n                            border: 'none'\r\n                          }}\r\n                        >\r\n                          {event.category.name}\r\n                        </Badge>\r\n                      )}\r\n                      {event.isFeatured && <Badge bg=\"warning\">Featured</Badge>}\r\n                    </div>\r\n                    <h1 className=\"display-5 fw-bold mb-2\">{event.title}</h1>\r\n                    <div className=\"d-flex align-items-center text-white-50\">\r\n                      <i className=\"bi bi-calendar-event me-2\"></i>\r\n                      <span>{formatDate(event.startDate)}</span>\r\n                      <span className=\"mx-3\">•</span>\r\n                      <i className=\"bi bi-geo-alt me-2\"></i>\r\n                      <span>{event.venue.name}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {!event.imageUrl && (\r\n                <Card.Body className=\"py-5 text-center\" style={{ backgroundColor: '#e9ecef' }}>\r\n                  <div className=\"d-flex gap-2 justify-content-center mb-3\">\r\n                    {getStatusBadge(event.status)}\r\n                    {event.category && (\r\n                      <Badge\r\n                        style={{\r\n                          backgroundColor: event.category.color,\r\n                          border: 'none'\r\n                        }}\r\n                      >\r\n                        {event.category.name}\r\n                      </Badge>\r\n                    )}\r\n                    {event.isFeatured && <Badge bg=\"warning\">Featured</Badge>}\r\n                  </div>\r\n                  <h1 className=\"display-5 fw-bold mb-3 text-dark\">{event.title}</h1>\r\n                  <div className=\"d-flex align-items-center justify-content-center text-muted\">\r\n                    <i className=\"bi bi-calendar-event me-2\"></i>\r\n                    <span>{formatDate(event.startDate)}</span>\r\n                    <span className=\"mx-3\">•</span>\r\n                    <i className=\"bi bi-geo-alt me-2\"></i>\r\n                    <span>{event.venue.name}</span>\r\n                  </div>\r\n                </Card.Body>\r\n              )}\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* Registration Status & Action */}\r\n        {userRegistration && (\r\n          <Row className=\"mb-4\">\r\n            <Col>\r\n              <Alert variant=\"success\" className=\"d-flex justify-content-between align-items-center\">\r\n                <div>\r\n                  <i className=\"bi bi-check-circle me-2\"></i>\r\n                  <strong>You're registered for this event!</strong>\r\n                  <span className=\"ms-2\">{getRegistrationStatusBadge(userRegistration.status)}</span>\r\n                </div>\r\n                <Button\r\n                  variant=\"outline-danger\"\r\n                  size=\"sm\"\r\n                  onClick={handleUnregister}\r\n                  disabled={registering}\r\n                >\r\n                  {registering ? <Spinner size=\"sm\" /> : 'Unregister'}\r\n                </Button>\r\n              </Alert>\r\n            </Col>\r\n          </Row>\r\n        )}\r\n\r\n        {!userRegistration && (\r\n          <Row className=\"mb-4\">\r\n            <Col>\r\n              <Card className=\"border-0 shadow-sm\">\r\n                <Card.Body className=\"text-center py-4\">\r\n                  <div className=\"mb-3\">\r\n                    <h5 className=\"mb-2\">Ready to join this event?</h5>\r\n                    <p className=\"text-muted mb-0\">\r\n                      {isEventFull()\r\n                        ? 'This event is currently full, but you can join the waitlist.'\r\n                        : `${event.maxAttendees - (event.registrationCount || 0)} spots remaining`\r\n                      }\r\n                    </p>\r\n                  </div>\r\n                  {canRegister() ? (\r\n                    <Button\r\n                      variant=\"primary\"\r\n                      size=\"lg\"\r\n                      className=\"px-5\"\r\n                      onClick={() => setShowRegistrationModal(true)}\r\n                      disabled={isEventFull()}\r\n                    >\r\n                      <i className=\"bi bi-person-plus me-2\"></i>\r\n                      {isEventFull() ? 'Join Waitlist' : 'Register Now'}\r\n                    </Button>\r\n                  ) : !user ? (\r\n                    <Button\r\n                      variant=\"primary\"\r\n                      size=\"lg\"\r\n                      className=\"px-5\"\r\n                      as={Link}\r\n                      to=\"/login\"\r\n                    >\r\n                      <i className=\"bi bi-box-arrow-in-right me-2\"></i>\r\n                      Login to Register\r\n                    </Button>\r\n                  ) : (\r\n                    <Button variant=\"secondary\" size=\"lg\" disabled>\r\n                      <i className=\"bi bi-x-circle me-2\"></i>\r\n                      Registration Closed\r\n                    </Button>\r\n                  )}\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        )}\r\n\r\n        {/* Main Content Layout */}\r\n        <Row>\r\n          <Col lg={8}>\r\n            {/* Description */}\r\n            <Card className=\"border-0 shadow-sm mb-4\">\r\n              <Card.Body className=\"p-4\">\r\n                <div className=\"d-flex align-items-center mb-3\">\r\n                  <div className=\"bg-primary rounded-circle p-2 me-3\">\r\n                    <i className=\"bi bi-info-circle text-white\"></i>\r\n                  </div>\r\n                  <h4 className=\"mb-0 fw-bold\">About This Event</h4>\r\n                </div>\r\n                <p className=\"text-muted lh-lg mb-0\" style={{ fontSize: '1.1rem' }}>\r\n                  {event.description}\r\n                </p>\r\n              </Card.Body>\r\n            </Card>\r\n\r\n            {/* Event Details Grid */}\r\n            <Row className=\"mb-4\">\r\n              <Col md={6}>\r\n                <Card className=\"border-0 shadow-sm h-100\">\r\n                  <Card.Body className=\"p-4\">\r\n                    <div className=\"d-flex align-items-center mb-3\">\r\n                      <div className=\"bg-success rounded-circle p-2 me-3\">\r\n                        <i className=\"bi bi-calendar-event text-white\"></i>\r\n                      </div>\r\n                      <h5 className=\"mb-0 fw-bold\">Date & Time</h5>\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                      <i className=\"bi bi-calendar3 me-2 text-muted\"></i>\r\n                      <span className=\"fw-medium\">{formatDate(event.startDate)}</span>\r\n                    </div>\r\n                    <div>\r\n                      <i className=\"bi bi-clock me-2 text-muted\"></i>\r\n                      <span>{formatTime(event.startDate)} - {formatTime(event.endDate)}</span>\r\n                    </div>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n              <Col md={6}>\r\n                <Card className=\"border-0 shadow-sm h-100\">\r\n                  <Card.Body className=\"p-4\">\r\n                    <div className=\"d-flex align-items-center mb-3\">\r\n                      <div className=\"bg-info rounded-circle p-2 me-3\">\r\n                        <i className=\"bi bi-geo-alt text-white\"></i>\r\n                      </div>\r\n                      <h5 className=\"mb-0 fw-bold\">Location</h5>\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                      <i className=\"bi bi-building me-2 text-muted\"></i>\r\n                      <span className=\"fw-medium\">{event.venue.name}</span>\r\n                    </div>\r\n                    {event.venue.address && (\r\n                      <div>\r\n                        <i className=\"bi bi-map me-2 text-muted\"></i>\r\n                        <span className=\"text-muted\">{formatAddress(event.venue.address)}</span>\r\n                      </div>\r\n                    )}\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n\r\n            {/* Agenda */}\r\n            {event.agenda && event.agenda.length > 0 && (\r\n              <Card className=\"border-0 shadow-sm mb-4\">\r\n                <Card.Body className=\"p-4\">\r\n                  <div className=\"d-flex align-items-center mb-4\">\r\n                    <div className=\"bg-warning rounded-circle p-2 me-3\">\r\n                      <i className=\"bi bi-list-ul text-white\"></i>\r\n                    </div>\r\n                    <h4 className=\"mb-0 fw-bold\">Event Agenda</h4>\r\n                  </div>\r\n                  <div className=\"timeline\">\r\n                    {event.agenda.map((item, index) => (\r\n                      <div key={index} className=\"timeline-item d-flex mb-4\">\r\n                        <div className=\"timeline-marker me-4\">\r\n                          <div className=\"bg-primary text-white rounded-pill px-3 py-2 fw-bold\">\r\n                            {item.time}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"timeline-content flex-grow-1\">\r\n                          <h6 className=\"fw-bold mb-2\">{item.title}</h6>\r\n                          <p className=\"text-muted mb-0\">{item.description}</p>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Requirements */}\r\n            {event.requirements && event.requirements.length > 0 && (\r\n              <Card className=\"border-0 shadow-sm mb-4\">\r\n                <Card.Body className=\"p-4\">\r\n                  <div className=\"d-flex align-items-center mb-3\">\r\n                    <div className=\"bg-danger rounded-circle p-2 me-3\">\r\n                      <i className=\"bi bi-exclamation-triangle text-white\"></i>\r\n                    </div>\r\n                    <h4 className=\"mb-0 fw-bold\">Requirements</h4>\r\n                  </div>\r\n                  <div className=\"requirements-list\">\r\n                    {event.requirements.map((req, index) => (\r\n                      <div key={index} className=\"d-flex align-items-start mb-2\">\r\n                        <i className=\"bi bi-check-circle-fill text-success me-2 mt-1\"></i>\r\n                        <span>{req}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n            )}\r\n          </Col>\r\n\r\n          {/* Sidebar */}\r\n          <Col lg={4}>\r\n            {/* Quick Stats */}\r\n            <Card className=\"border-0 shadow-sm mb-4\">\r\n              <Card.Body className=\"p-4\">\r\n                <h5 className=\"fw-bold mb-4\">Event Stats</h5>\r\n\r\n                {/* Registration Progress */}\r\n                <div className=\"mb-4\">\r\n                  <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                    <span className=\"fw-medium\">Registration</span>\r\n                    <span className=\"text-muted\">\r\n                      {event.registrationCount || 0} / {event.maxAttendees}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"progress\" style={{ height: '8px' }}>\r\n                    <div\r\n                      className=\"progress-bar bg-primary\"\r\n                      style={{\r\n                        width: `${Math.min(((event.registrationCount || 0) / event.maxAttendees) * 100, 100)}%`\r\n                      }}\r\n                    ></div>\r\n                  </div>\r\n                  {event.waitlistCount > 0 && (\r\n                    <small className=\"text-muted\">\r\n                      {event.waitlistCount} on waitlist\r\n                    </small>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Registration Deadline */}\r\n                <div className=\"mb-4 p-3 bg-light rounded\">\r\n                  <div className=\"d-flex align-items-center\">\r\n                    <i className=\"bi bi-clock-history text-warning me-2\"></i>\r\n                    <div>\r\n                      <div className=\"fw-medium\">Registration Deadline</div>\r\n                      <small className=\"text-muted\">\r\n                        {formatDate(event.registrationDeadline)}\r\n                      </small>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Organizer */}\r\n                {event.organizer && (\r\n                  <div className=\"d-flex align-items-center p-3 bg-light rounded\">\r\n                    <div className=\"bg-primary rounded-circle p-2 me-3\">\r\n                      <i className=\"bi bi-person text-white\"></i>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"fw-medium\">Organized by</div>\r\n                      <div className=\"text-muted\">\r\n                        {event.organizer.firstName} {event.organizer.lastName}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </Card.Body>\r\n            </Card>\r\n\r\n            {/* Tags */}\r\n            {event.tags && event.tags.length > 0 && (\r\n              <Card className=\"border-0 shadow-sm mb-4\">\r\n                <Card.Body className=\"p-4\">\r\n                  <h5 className=\"fw-bold mb-3\">Tags</h5>\r\n                  <div className=\"d-flex flex-wrap gap-2\">\r\n                    {event.tags.map((tag, index) => (\r\n                      <Badge\r\n                        key={index}\r\n                        bg=\"light\"\r\n                        text=\"dark\"\r\n                        className=\"px-3 py-2 rounded-pill\"\r\n                        style={{ fontSize: '0.85rem' }}\r\n                      >\r\n                        #{tag}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Share */}\r\n            <Card className=\"border-0 shadow-sm\">\r\n              <Card.Body className=\"p-4\">\r\n                <h5 className=\"fw-bold mb-3\">Share This Event</h5>\r\n                <div className=\"d-grid gap-3\">\r\n                  <Button\r\n                    variant=\"outline-primary\"\r\n                    className=\"d-flex align-items-center justify-content-center py-2\"\r\n                    onClick={() => {\r\n                      navigator.clipboard.writeText(window.location.href);\r\n                      showToast('Link copied to clipboard!', 'success');\r\n                    }}\r\n                  >\r\n                    <i className=\"bi bi-link-45deg me-2\"></i>\r\n                    Copy Event Link\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline-info\"\r\n                    className=\"d-flex align-items-center justify-content-center py-2\"\r\n                    onClick={() => window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(`Check out this event: ${event.title}`)}&url=${encodeURIComponent(window.location.href)}`)}\r\n                  >\r\n                    <i className=\"bi bi-twitter me-2\"></i>\r\n                    Share on Twitter\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline-success\"\r\n                    className=\"d-flex align-items-center justify-content-center py-2\"\r\n                    onClick={() => window.open(`https://wa.me/?text=${encodeURIComponent(`Check out this event: ${event.title} ${window.location.href}`)}`)}\r\n                  >\r\n                    <i className=\"bi bi-whatsapp me-2\"></i>\r\n                    Share on WhatsApp\r\n                  </Button>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* Registration Modal */}\r\n        <Modal show={showRegistrationModal} onHide={() => setShowRegistrationModal(false)} size=\"lg\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Register for {event.title}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Additional Information (Optional)</Form.Label>\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                rows={3}\r\n                value={registrationData.additionalInfo}\r\n                onChange={(e) => setRegistrationData(prev => ({\r\n                  ...prev,\r\n                  additionalInfo: e.target.value\r\n                }))}\r\n                placeholder=\"Any additional information you'd like to share...\"\r\n              />\r\n            </Form.Group>\r\n\r\n            <h6>Emergency Contact</h6>\r\n            <Row>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Name</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    value={registrationData.emergencyContact.name}\r\n                    onChange={(e) => setRegistrationData(prev => ({\r\n                      ...prev,\r\n                      emergencyContact: {\r\n                        ...prev.emergencyContact,\r\n                        name: e.target.value\r\n                      }\r\n                    }))}\r\n                    placeholder=\"Emergency contact name\"\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Phone</Form.Label>\r\n                  <Form.Control\r\n                    type=\"tel\"\r\n                    value={registrationData.emergencyContact.phone}\r\n                    onChange={(e) => setRegistrationData(prev => ({\r\n                      ...prev,\r\n                      emergencyContact: {\r\n                        ...prev.emergencyContact,\r\n                        phone: e.target.value\r\n                      }\r\n                    }))}\r\n                    placeholder=\"Emergency contact phone\"\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Relationship</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                value={registrationData.emergencyContact.relationship}\r\n                onChange={(e) => setRegistrationData(prev => ({\r\n                  ...prev,\r\n                  emergencyContact: {\r\n                    ...prev.emergencyContact,\r\n                    relationship: e.target.value\r\n                  }\r\n                }))}\r\n                placeholder=\"Relationship to emergency contact\"\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Special Requirements (Optional)</Form.Label>\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                rows={2}\r\n                value={registrationData.specialRequirements}\r\n                onChange={(e) => setRegistrationData(prev => ({\r\n                  ...prev,\r\n                  specialRequirements: e.target.value\r\n                }))}\r\n                placeholder=\"Any special requirements or accommodations needed...\"\r\n              />\r\n            </Form.Group>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowRegistrationModal(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            variant=\"primary\"\r\n            onClick={handleRegistration}\r\n            disabled={registering}\r\n          >\r\n            {registering ? (\r\n              <>\r\n                <Spinner size=\"sm\" className=\"me-2\" />\r\n                Registering...\r\n              </>\r\n            ) : (\r\n              'Complete Registration'\r\n            )}\r\n          </Button>\r\n        </Modal.Footer>\r\n        </Modal>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventDetailsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}