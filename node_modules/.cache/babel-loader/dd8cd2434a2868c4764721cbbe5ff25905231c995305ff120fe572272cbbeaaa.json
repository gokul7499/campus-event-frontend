{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import{Navbar,Nav,NavDropdown,Container,Badge}from'react-bootstrap';import{useAuth}from'../../context/AuthContext';import{useNotification}from'../../context/NotificationContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AppNavbar=()=>{const{user,logout}=useAuth();const{unreadCount}=useNotification();const navigate=useNavigate();const location=useLocation();const[expanded,setExpanded]=useState(false);const handleLogout=async()=>{await logout();navigate('/');setExpanded(false);};const handleNavClick=()=>{setExpanded(false);};const isActive=path=>{return location.pathname===path;};return/*#__PURE__*/_jsx(Navbar,{bg:\"white\",expand:\"lg\",fixed:\"top\",className:\"shadow-sm navbar-custom\",expanded:expanded,onToggle:setExpanded,children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Navbar.Brand,{as:Link,to:\"/\",className:\"navbar-brand-custom\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar-event me-2\"}),\"Campus Events\"]}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"basic-navbar-nav\",children:[/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/\",onClick:handleNavClick,className:isActive('/')?'active':'',children:\"Home\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/events\",onClick:handleNavClick,className:isActive('/events')?'active':'',children:\"Events\"}),user&&(user.role==='organizer'||user.role==='admin')&&/*#__PURE__*/_jsxs(NavDropdown,{title:\"Manage\",id:\"manage-nav-dropdown\",children:[/*#__PURE__*/_jsxs(NavDropdown.Item,{as:Link,to:\"/create-event\",onClick:handleNavClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus-circle me-2\"}),\"Create Event\"]}),/*#__PURE__*/_jsxs(NavDropdown.Item,{as:Link,to:\"/manage-events\",onClick:handleNavClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar-check me-2\"}),\"Manage Events\"]}),user.role==='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsxs(NavDropdown.Item,{as:Link,to:\"/manage-categories\",onClick:handleNavClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-folder me-2\"}),\"Manage Categories\"]}),/*#__PURE__*/_jsxs(NavDropdown.Item,{as:Link,to:\"/admin/users\",onClick:handleNavClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-people me-2\"}),\"Manage Users\"]}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsxs(NavDropdown.Item,{as:Link,to:\"/admin/analytics\",onClick:handleNavClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-graph-up me-2\"}),\"Analytics\"]})]}),(user.role==='organizer'||user.role==='admin')&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsxs(NavDropdown.Item,{as:Link,to:\"/admin/notifications\",onClick:handleNavClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-bell me-2\"}),\"Send Notifications\"]})]})]})]}),/*#__PURE__*/_jsx(Nav,{children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Nav.Link,{as:Link,to:\"/notifications\",onClick:handleNavClick,className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-bell\"}),unreadCount>0&&/*#__PURE__*/_jsx(Badge,{bg:\"danger\",pill:true,className:\"position-absolute top-0 start-100 translate-middle\",style:{fontSize:'0.7rem'},children:unreadCount>99?'99+':unreadCount})]}),/*#__PURE__*/_jsxs(NavDropdown,{title:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-circle me-1\"}),user.firstName,\" \",user.lastName]}),id:\"user-nav-dropdown\",align:\"end\",children:[/*#__PURE__*/_jsxs(NavDropdown.Item,{as:Link,to:\"/dashboard\",onClick:handleNavClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-speedometer2 me-2\"}),\"Dashboard\"]}),/*#__PURE__*/_jsxs(NavDropdown.Item,{as:Link,to:\"/profile\",onClick:handleNavClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person me-2\"}),\"Profile\"]}),/*#__PURE__*/_jsxs(NavDropdown.Item,{as:Link,to:\"/my-registrations\",onClick:handleNavClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar-check me-2\"}),\"My Registrations\"]}),(user.role==='organizer'||user.role==='admin')&&/*#__PURE__*/_jsxs(NavDropdown.Item,{as:Link,to:\"/manage-events\",onClick:handleNavClick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-calendar-plus me-2\"}),\"My Events\"]}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsxs(NavDropdown.Item,{onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-box-arrow-right me-2\"}),\"Logout\"]})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/login\",onClick:handleNavClick,className:isActive('/login')?'active':'',children:\"Login\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/register\",onClick:handleNavClick,className:\"btn btn-primary text-white ms-2 \".concat(isActive('/register')?'active':''),children:\"Sign Up\"})]})})]})]})});};export default AppNavbar;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}