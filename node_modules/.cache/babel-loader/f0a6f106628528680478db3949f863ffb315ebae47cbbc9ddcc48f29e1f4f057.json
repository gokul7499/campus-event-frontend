{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import{ToastContainer}from'react-toastify';// Context hooks\nimport{useAuth}from'./context/AuthContext';// Layout components\nimport Navbar from'./components/common/Navbar';import Footer from'./components/common/Footer';// Page components\nimport HomePage from'./pages/HomePage';import LoginPage from'./pages/auth/LoginPage';import RegisterPage from'./pages/auth/RegisterPage';import ForgotPasswordPage from'./pages/auth/ForgotPasswordPage';// Dashboard components\nimport AdminDashboard from'./pages/admin/AdminDashboard';import OrganizerDashboard from'./pages/organizer/OrganizerDashboard';import ParticipantDashboard from'./pages/participant/ParticipantDashboard';// Event components\nimport EventsPage from'./pages/events/EventsPage';import EventDetailsPage from'./pages/events/EventDetailsPage';import CreateEventPage from'./pages/events/CreateEventPage';import EditEventPage from'./pages/events/EditEventPage';import ManageEventsPage from'./pages/events/ManageEventsPage';// Profile components\nimport ProfilePage from'./pages/profile/ProfilePage';// Admin components\nimport ManageCategoriesPage from'./pages/admin/ManageCategoriesPage';import ManageUsersPage from'./pages/admin/ManageUsersPage';import ManageParticipantsPage from'./pages/admin/ManageParticipantsPage';import AdminAnalyticsPage from'./pages/admin/AdminAnalyticsPage';import SystemSettingsPage from'./pages/admin/SystemSettingsPage';import SendNotificationPage from'./pages/admin/SendNotificationPage';// Participant components\nimport MyRegistrationsPage from'./pages/participant/MyRegistrationsPage';// Notification components\nimport NotificationsPage from'./pages/notifications/NotificationsPage';// Protected Route component\nimport ProtectedRoute from'./components/common/ProtectedRoute';// Error components\nimport NotFoundPage from'./pages/errors/NotFoundPage';// Test utilities (for debugging)\nimport'./utils/testAuth';import'./test-backend';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{user,loading}=useAuth();// Show loading spinner only during initial authentication check\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:{height:'100vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",style:{width:'3rem',height:'3rem'},children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-muted\",children:\"Initializing application...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/events\",element:/*#__PURE__*/_jsx(EventsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/events/:id\",element:/*#__PURE__*/_jsx(EventDetailsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgot-password\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(ForgotPasswordPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsxs(ProtectedRoute,{children:[(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsx(AdminDashboard,{}),(user===null||user===void 0?void 0:user.role)==='organizer'&&/*#__PURE__*/_jsx(OrganizerDashboard,{}),(user===null||user===void 0?void 0:user.role)==='participant'&&/*#__PURE__*/_jsx(ParticipantDashboard,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ProfilePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/create-event\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin','organizer'],children:/*#__PURE__*/_jsx(CreateEventPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/edit-event/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin','organizer'],children:/*#__PURE__*/_jsx(EditEventPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/manage-events\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin','organizer'],children:/*#__PURE__*/_jsx(ManageEventsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/my-registrations\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['participant','organizer','admin'],children:/*#__PURE__*/_jsx(MyRegistrationsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/notifications\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(NotificationsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/manage-categories\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin'],children:/*#__PURE__*/_jsx(ManageCategoriesPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/users\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin'],children:/*#__PURE__*/_jsx(ManageUsersPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/participants\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin','organizer'],children:/*#__PURE__*/_jsx(ManageParticipantsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/analytics\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin'],children:/*#__PURE__*/_jsx(AdminAnalyticsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/settings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin'],children:/*#__PURE__*/_jsx(SystemSettingsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/notifications\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin','organizer'],children:/*#__PURE__*/_jsx(SendNotificationPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/*\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['admin'],children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFoundPage,{})})]})}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:5000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true,theme:\"light\"})]});}export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}