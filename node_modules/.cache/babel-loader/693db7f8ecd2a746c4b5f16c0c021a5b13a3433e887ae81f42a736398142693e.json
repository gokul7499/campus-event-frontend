{"ast":null,"code":"import _objectWithoutProperties from\"C:/Users/Baap/Desktop/campus-event-management/campus-event-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"C:/Users/Baap/Desktop/campus-event-management/campus-event-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"confirmPassword\"];import React,{useState}from'react';import{Container,Row,Col,Card,Form,Button,Alert}from'react-bootstrap';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{useNotification}from'../../context/NotificationContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RegisterPage=()=>{const[formData,setFormData]=useState({firstName:'',lastName:'',email:'',password:'',confirmPassword:'',role:'participant',phoneNumber:'',department:'',studentId:'',employeeId:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const{register}=useAuth();const{showToast}=useNotification();const navigate=useNavigate();const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));setError('');};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');// Validate passwords match\nif(formData.password!==formData.confirmPassword){setError('Passwords do not match');setLoading(false);return;}// Remove confirmPassword from data sent to API\nconst{confirmPassword}=formData,registrationData=_objectWithoutProperties(formData,_excluded);try{const result=await register(registrationData);if(result.success){showToast('Registration successful! Welcome to Campus Events!','success');navigate('/dashboard');}else{setError(result.error||'Registration failed. Please try again.');}}catch(error){console.error('Registration error:',error);setError('Registration failed. Please check your information and try again.');}setLoading(false);};return/*#__PURE__*/_jsx(Container,{className:\"py-5\",children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{md:8,lg:6,children:/*#__PURE__*/_jsx(Card,{className:\"shadow\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h4 mb-2\",children:\"Create Your Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Join the campus community today\"})]}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",className:\"mb-3\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"First Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"firstName\",value:formData.firstName,onChange:handleChange,placeholder:\"Enter your first name\",required:true})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Last Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"lastName\",value:formData.lastName,onChange:handleChange,placeholder:\"Enter your last name\",required:true})]})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"Enter your email\",required:true})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,placeholder:\"Create a password\",required:true,minLength:8}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Must be at least 8 characters with uppercase, lowercase, and number\"})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,placeholder:\"Confirm your password\",required:true})]})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Role\"}),/*#__PURE__*/_jsxs(Form.Select,{name:\"role\",value:formData.role,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"participant\",children:\"Student/Participant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"organizer\",children:\"Event Organizer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phone Number (Optional)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"tel\",name:\"phoneNumber\",value:formData.phoneNumber,onChange:handleChange,placeholder:\"Enter your phone number\"})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Department (Optional)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"department\",value:formData.department,onChange:handleChange,placeholder:\"e.g., Computer Science\"})]})})]}),formData.role==='participant'&&/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Student ID (Optional)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"studentId\",value:formData.studentId,onChange:handleChange,placeholder:\"Enter your student ID\"})]}),(formData.role==='organizer'||formData.role==='admin')&&/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Employee ID (Optional)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"employeeId\",value:formData.employeeId,onChange:handleChange,placeholder:\"Enter your employee ID\"})]}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",id:\"terms-agreement\",label:/*#__PURE__*/_jsxs(_Fragment,{children:[\"I agree to the\",' ',/*#__PURE__*/_jsx(Link,{to:\"/terms\",className:\"text-decoration-none\",children:\"Terms of Service\"}),' ',\"and\",' ',/*#__PURE__*/_jsx(Link,{to:\"/privacy\",className:\"text-decoration-none\",children:\"Privacy Policy\"})]}),required:true})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",className:\"w-100 mb-3\",disabled:loading,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":\"true\"}),\"Creating account...\"]}):'Create Account'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-decoration-none\",children:\"Sign in here\"})]})})]})})})})});};export default RegisterPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}